
════════════════════════════════════════════════════════════════════════════════
π-STACK OPTIMIZER - Molecular Stacking Geometry Optimization
using xTB Quantum Chemistry + Swarm / Genetic Optimizers
════════════════════════════════════════════════════════════════════════════════

Authors: Arunima Ghosh, Susmita Barik, Sandeep K. Reddy

Start time: 2025-12-21 16:46:18

Command line: ../pi-stack-generator.py BTA.xyz --torsion torsions.json --workers 20 --max-iters 100

┌─ SYSTEM INFORMATION ───────────────────────────────────────────────────────
│ Working directory: /home/sandeep/IITkgp/work/arunima-project-2/pi-stack-optimizer/test
│ Script path:       /home/sandeep/IITkgp/work/arunima-project-2/pi-stack-optimizer/pi-stack-generator.py
│ Python version:    3.13.5
│ xTB version:       * xtb version 6.7.0 (08769fc) compiled by 'albert@albert-system' on 2024-03-04
└───────────────────────────────────────────────────────────────────────────────

┌─ INPUT FILES ─────────────────────────────────────────────────────────────
│ Monomer XYZ:       BTA.xyz
│ Torsions config:   torsions.json
└───────────────────────────────────────────────────────────────────────────────

┌─ GEOMETRY VALIDATION ──────────────────────────────────────────────────────
│ Checking input monomer geometry for sanity...
│ ✅ Geometry validation passed - no atomic overlaps detected
└───────────────────────────────────────────────────────────────────────────────

┌─ MOLECULAR SYSTEM ────────────────────────────────────────────────────────
│ Number of atoms:   33
│ Composition:       C:12, H:15, N:3, O:3
│ Number of torsions considered for optimization: 3
│    1. torsion_1 (bond 0-9)
│    2. torsion_2 (bond 2-10)
│    3. torsion_3 (bond 4-11)
└───────────────────────────────────────────────────────────────────────────────

┌─ xTB CONFIGURATION ───────────────────────────────────────────────────────
│ Method:            GFN2
│ Charge:            +0
│ Multiplicity:      1
│ Solvent:           None (gas phase)
│ Backend:           command-line xTB (binary: xtb)
│ Workers:           20
│ Threads per worker: 1
└───────────────────────────────────────────────────────────────────────────────

┌─ PSO CONFIGURATION ───────────────────────────────────────────────────────
│ Swarm size:        60
│ Max iterations:    100
│ Random seed:       42
│ Inertia weight:    0.73
│ Cognitive coeff:   1.50
│ Social coeff:      1.50
│ Convergence tol:   0.01
│ Patience:          20 iterations
│ Verbose every:     1 iterations
│ Save trajectories: No
└───────────────────────────────────────────────────────────────────────────────

┌─ OPTIMIZATION SETTINGS ───────────────────────────────────────────────────
│ Optimization space: 10 dimensions
│   - Transform params: 7 (rotation + translation)
│   - Torsion angles:   3
│ Stack evaluation:   2 layers
│ Final stack output: 10 molecules (fixed)
│ Penalty weights:
│   - Intermolecular:   2.0 (cutoff: 1.6 Å)
│   - Intramolecular:   5.0 (cutoff: 1.2 Å)
└───────────────────────────────────────────────────────────────────────────────

┌─ OPTIMIZATION PROGRESS ───────────────────────────────────────────────────
│ Starting Particle Swarm Optimization optimization...
│
[PSO]  iter    best          Δ_patience
[PSO]     1    -70.984532      0.000000
[PSO]     2    -81.324590     10.340058
[PSO]     3    -81.324590     10.340058
[PSO]     4    -81.324590     10.340058
[PSO]     5    -81.324590     10.340058
[PSO]     6    -87.997987     17.013455
[PSO]     7    -90.569175     19.584643
[PSO]     8    -90.569175     19.584643
[PSO]     9    -95.242342     24.257809
[PSO]    10    -95.242342     24.257809
[PSO]    11    -98.349555     27.365022
[PSO]    12   -105.261433     34.276901
[PSO]    13   -105.261433     34.276901
[PSO]    14   -109.155780     38.171247
[PSO]    15   -109.155780     38.171247
[PSO]    16   -112.656185     41.671652
[PSO]    17   -115.938401     44.953869
[PSO]    18   -115.938401     44.953869
[PSO]    19   -119.252907     48.268374
[PSO]    20   -119.252907     48.268374
[PSO]    21   -119.252907     37.928317
[PSO]    22   -119.252907     37.928317
[PSO]    23   -119.252907     37.928317
[PSO]    24   -119.252907     37.928317
[PSO]    25   -119.252907     31.254920
[PSO]    26   -119.252907     28.683732
[PSO]    27   -119.252907     28.683732
[PSO]    28   -119.568167     24.325825
[PSO]    29   -119.568167     24.325825
[PSO]    30   -119.568167     21.218612
[PSO]    31   -119.737355     14.475921
[PSO]    32   -119.737355     14.475921
[PSO]    33   -119.889617     10.733837
[PSO]    34   -119.889617     10.733837
[PSO]    35   -119.889617      7.233432
[PSO]    36   -119.921143      3.982742
[PSO]    37   -119.921143      3.982742
[PSO]    38   -119.921143      0.668236
[PSO]    39   -119.921143      0.668236
[PSO]    40   -119.948152      0.695245
[PSO]    41   -120.036701      0.783794
[PSO]    42   -120.181313      0.928406
[PSO]    43   -120.214893      0.961987
[PSO]    44   -120.276987      1.024080
[PSO]    45   -120.326964      1.074057
[PSO]    46   -120.326964      1.074057
[PSO]    47   -120.326964      0.758797
[PSO]    48   -120.326964      0.758797
[PSO]    49   -120.326964      0.758797
[PSO]    50   -120.326964      0.589609
[PSO]    51   -120.326964      0.589609
[PSO]    52   -120.326964      0.437347
[PSO]    53   -120.363184      0.473567
[PSO]    54   -120.363184      0.473567
[PSO]    55   -121.457685      1.536542
[PSO]    56   -121.901609      1.980466
[PSO]    57   -121.901609      1.980466
[PSO]    58   -121.901609      1.980466
[PSO]    59   -121.901609      1.953457
[PSO]    60   -121.901609      1.864908
[PSO]    61   -121.901609      1.720296
[PSO]    62   -121.901609      1.686715
[PSO]    63   -121.901609      1.624622
[PSO]    64   -121.901609      1.574645
[PSO]    65   -126.312572      5.985608
[PSO]    66   -127.922810      7.595846
[PSO]    67   -127.922810      7.595846
[PSO]    68   -127.922810      7.595846
[PSO]    69   -127.922810      7.595846
[PSO]    70   -127.922810      7.595846
[PSO]    71   -127.922810      7.595846
[PSO]    72   -127.922810      7.559626
[PSO]    73   -127.922810      7.559626
[PSO]    74   -127.922810      6.465125
[PSO]    75   -128.949248      7.047639
[PSO]    76   -128.949248      7.047639
[PSO]    77   -132.700269     10.798660
[PSO]    78   -132.700269     10.798660
[PSO]    79   -132.700269     10.798660
[PSO]    80   -132.700269     10.798660
[PSO]    81   -132.700269     10.798660
[PSO]    82   -132.700269     10.798660
[PSO]    83   -132.700269     10.798660
[PSO]    84   -132.700269      6.387697
[PSO]    85   -132.700269      4.777459
[PSO]    86   -134.621182      6.698372
[PSO]    87   -135.702375      7.779565
[PSO]    88   -135.902478      7.979668
[PSO]    89   -135.902478      7.979668
[PSO]    90   -135.902478      7.979668
[PSO]    91   -135.912865      7.990055
[PSO]    92   -135.982542      8.059732
[PSO]    93   -136.129971      8.207162
[PSO]    94   -136.129971      7.180723
[PSO]    95   -136.829753      7.880504
[PSO]    96   -136.829753      4.129484
[PSO]    97   -139.179842      6.479573
[PSO]    98   -139.179842      6.479573
[PSO]    99   -139.179842      6.479573
[PSO]   100   -139.179842      6.479573
│
│ Optimization completed successfully!
└───────────────────────────────────────────────────────────────────────────────

┌─ OPTIMIZATION RESULTS ────────────────────────────────────────────────────
│ Best objective:    -139.179842 kJ/mol
│ Binding energy:    -139.179830 kJ/mol per interface
│ Best parameters:
│   θ = -64.343°  Tx=-0.4805 Å, Ty=-1.0691 Å, Tz=3.2340 Å, Cx=1.6002 Å, Cy=0.8341 Å
│   reduced torsions: [-32.429°, -37.840°, 145.252°]
└───────────────────────────────────────────────────────────────────────────────

┌─ OUTPUT FILES ─────────────────────────────────────────────────────────────
│ Results summary:   optimization_results.txt
│ Optimized monomer: molecule_after_torsion.xyz
│ Final stack:       molecular_stack_10molecules.xyz
└───────────────────────────────────────────────────────────────────────────────

════════════════════════════════════════════════════════════════════════════════
OPTIMIZATION COMPLETED SUCCESSFULLY
End time:     2025-12-21 16:47:24
Total time:   66.093 seconds
════════════════════════════════════════════════════════════════════════════════
